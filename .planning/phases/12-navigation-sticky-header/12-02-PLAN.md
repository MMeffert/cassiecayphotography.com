---
phase: 12-navigation-sticky-header
plan: 02
type: execute
wave: 2
depends_on: ["12-01"]
files_modified:
  - style/js/custom-plugins.js
autonomous: false

must_haves:
  truths:
    - "SmartMenus, Headhesive, jQuery Easing, and scrollUp are removed from bundle"
    - "Bundle size reduced by ~35KB"
    - "All navigation functionality still works after library removal"
  artifacts:
    - path: "style/js/custom-plugins.js"
      provides: "Cleaned plugins bundle without removed libraries"
      min_lines: 100
  key_links:
    - from: "style/js/custom-plugins.js"
      to: "custom-scripts.js"
      via: "Swiper and other remaining plugins still available"
      pattern: "Swiper"
---

<objective>
Remove obsolete jQuery plugins from bundle and verify navigation functionality

Purpose: NAV-01 (Remove SmartMenus), final cleanup of Headhesive and jQuery Easing dependencies
Output: Smaller bundle (~35KB reduction), verified working navigation
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-navigation-sticky-header/12-RESEARCH.md
@.planning/phases/12-navigation-sticky-header/12-01-SUMMARY.md

# Source files
@style/js/custom-plugins.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove SmartMenus, Headhesive, jQuery Easing, and scrollUp from plugins bundle</name>
  <files>style/js/custom-plugins.js</files>
  <action>
Edit style/js/custom-plugins.js to remove these plugins:

1. **Update header comment** (lines 1-16) - remove mentions of SmartMenus, Headhesive, jQuery Easing, and scrollUp from the "Includes" list

2. **Remove SmartMenus** (~lines 21-200):
   - Find: `/*! SmartMenus jQuery Plugin`
   - Remove the entire SmartMenus block (jQuery plugin + Bootstrap integration)
   - Look for two sections: core SmartMenus and SmartMenus Bootstrap addon

3. **Remove Headhesive** (~lines after SmartMenus):
   - Find: `/*! Headhesive`
   - Remove the entire Headhesive block

4. **Remove jQuery Easing** (search for `easing`):
   - Find: `jQuery Easing` or `easing:`
   - Remove the entire easing plugin block

5. **Remove scrollUp**:
   - Find: `scrollUp` (the plugin definition, not just references)
   - Remove the entire scrollUp plugin block

Keep only:
- Swiper (quote slider - still used)
- Any other plugins that aren't navigation-related

Record the line count before and after for bundle size comparison.
  </action>
  <verify>
`npm run build` succeeds. Check dist/style/js/custom-plugins.js does NOT contain:
- "SmartMenus"
- "Headhesive"
- "easeInOutExpo" or "jQuery Easing"
- "scrollUp"

Compare file sizes:
```bash
wc -c style/js/custom-plugins.js  # Before
wc -c dist/style/js/custom-plugins.js  # After (minified)
```
  </verify>
  <done>SmartMenus (~28KB), Headhesive (~2KB), jQuery Easing (~5KB), and scrollUp removed from plugins bundle</done>
</task>

<task type="auto">
  <name>Task 2: Remove scrollUp initialization from custom-scripts.js</name>
  <files>style/js/custom-scripts.js</files>
  <action>
Remove the GO TO TOP section from custom-scripts.js (lines 232-260):

Find and delete:
```javascript
/*-----------------------------------------------------------------------------------*/
/*	GO TO TOP
/*-----------------------------------------------------------------------------------*/
$.scrollUp({
    scrollName: 'scrollUp',
    // ... entire block ...
});
```

Note: The scroll-to-top functionality will be re-added in Phase 13 (Utility Scripts Conversion) with vanilla JS. For now, removing the jQuery-dependent version is correct.
  </action>
  <verify>
`npm run build` succeeds. grep for "scrollUp" in dist/style/js/custom-scripts.js returns no matches.
  </verify>
  <done>scrollUp initialization removed from custom-scripts.js</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Removed SmartMenus, Headhesive, jQuery Easing, and scrollUp from bundle. Vanilla JS sticky header and CSS smooth scroll now handle navigation.
  </what-built>
  <how-to-verify>
1. Run `npm run build && npm run preview`
2. Open http://localhost:4173 in browser

**Test sticky header:**
- Scroll down past hero section (~350px) - sticky header should slide down from top
- Continue scrolling down - sticky header should hide (slide up)
- Scroll up - sticky header should reappear
- Click any nav link - should smooth scroll to section with section heading visible

**Test mobile:**
- Resize to mobile viewport (or use device toolbar)
- Tap hamburger on original navbar - menu should open with animation
- Tap nav link - menu closes, scrolls to section
- Scroll to sticky header, tap its hamburger - should also work

**Test accessibility:**
- Open DevTools > Rendering > Emulate CSS media feature > prefers-reduced-motion: reduce
- Click nav link - should scroll instantly (no smooth animation)

**Verify removal:**
- Open DevTools > Network > filter by JS
- Confirm custom-plugins.js is smaller (should be ~35KB less than before)
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe specific issues found</resume-signal>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. `npm run preview` serves working site
3. Sticky header: appears at 350px, hides on scroll down, shows on scroll up
4. Nav links: smooth scroll to sections, headings not covered by header
5. Mobile: hamburger works on both navbars
6. Accessibility: prefers-reduced-motion respected
7. Bundle size: custom-plugins.js reduced by ~35KB
</verification>

<success_criteria>
- NAV-01: SmartMenus completely removed (no dropdowns needed)
- NAV-02: Headhesive removed, vanilla JS replacement working
- NAV-03: Hide/show on scroll direction working
- NAV-04: Mobile hamburger working on both navbars
- Bundle reduced by ~35KB (SmartMenus + Headhesive + jQuery Easing + scrollUp)
</success_criteria>

<output>
After completion, create `.planning/phases/12-navigation-sticky-header/12-02-SUMMARY.md`
</output>
